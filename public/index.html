<!DOCTYPE html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=manifest href=static/manifest.json><link rel="shortcut icon" type=image/png href=static/img/favicon.ico><title>pwa-chat</title><link rel=stylesheet href=static/css/font-awesome.min.css><link href=static/css/bootstrap.min.css rel=stylesheet><link href=static/css/jquery-ui.min.css rel=stylesheet><link href=static/css/mdb.min.css rel=stylesheet><link href=static/css/style.css rel=stylesheet><link href=static/emoji/jquery.lsxemojipicker.css rel=stylesheet><link href=/static/css/app.fa189a8ff157779fb10c23a0a173b323.css rel=stylesheet></head><body><div id=app></div><script type=text/javascript src=static/js/jquery-3.2.1.min.js></script><script type=text/javascript src=static/js/jquery-ui.min.js></script><script type=text/javascript src=static/js/popper.min.js></script><script type=text/javascript src=static/js/bootstrap.min.js></script><script type=text/javascript src=static/js/mdb.min.js></script><script type=text/javascript src=static/easyrtc/socket-io.js></script><script type=text/javascript src=static/easyrtc/easyrtc.js></script><script type=text/javascript src=static/js/md5.js></script><script type=text/javascript src=static/js/sha256.min.js></script><script src=https://twemoji.maxcdn.com/2/twemoji.min.js></script><script src=static/emoji/jquery.lsxemojipicker.js></script><script type=text/javascript src=/static/js/manifest.2ae2e69a05c33dfc65f8.js></script><script type=text/javascript src=/static/js/vendor.2218bfba3f8095150879.js></script><script type=text/javascript src=/static/js/app.64afe6ee1369caf70851.js></script></body><script>if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {

      navigator.serviceWorker.register('sw.js').then(function(registration) {
        // Registration was successful
        console.log('ServiceWorker registration successful with scope: ', registration.scope);
        window.registration = registration;
      }, function(err) {
        // registration failed :(
        console.log('ServiceWorker registration failed: ', err);
      });
    });
  }

  let deferredPrompt;

  window.addEventListener('beforeinstallprompt', (e) => {
    // Prevent Chrome 67 and earlier from automatically showing the prompt
    e.preventDefault();
    // Stash the event so it can be triggered later.
    deferredPrompt = e;
    if(confirm("Add to homesceen?")){
      homescreen();
    }
  });

  function homescreen(){
    deferredPrompt.prompt();
    // Wait for the user to respond to the prompt
    deferredPrompt.userChoice
      .then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('User accepted the A2HS prompt');
        } else {
          console.log('User dismissed the A2HS prompt');
        }
        deferredPrompt = null;
      });
  }
  function initMap(){
    window.mapsloaded = 1;
  }


  function urlBase64ToUint8Array(base64String) {
    const padding = '='.repeat((4 - base64String.length % 4) % 4);
    const base64 = (base64String + padding)
      .replace(/\-/g, '+')
      .replace(/_/g, '/');

    const rawData = window.atob(base64);
    const outputArray = new Uint8Array(rawData.length);

    for (let i = 0; i < rawData.length; ++i) {
      outputArray[i] = rawData.charCodeAt(i);
    }
    return outputArray;
  }

  window.SpeechRecognition = window.webkitSpeechRecognition || window.SpeechRecognition;
  window.SpeechGrammarList = window.SpeechGrammarList || window.webkitSpeechGrammarList;
  window.SpeechRecognitionEvent = window.SpeechRecognitionEvent || window.webkitSpeechRecognitionEvent;</script><script async defer=defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDnxh_2ttAwFbfLkixCmO2kOZneuxEh9K4&callback=initMap" type=text/javascript></script></html>